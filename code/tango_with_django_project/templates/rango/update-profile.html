{% extends 'rango/base.html' %}

{% load staticfiles %}

{% block title %}Update Profile{% endblock %}

{% block body_block %}
	
	
	<div id="update">
	    {% if user.is_authenticated %}
	    	{% if updated %}
	    	<div id="side_navigation">
		    	<div class="side_container">
					<img class="logo" href="/rango/index" src="{% static 'images/social_music_logo.svg' %}" alt="logo">
				</div>
				<div class="side_container">
					<a class="nav_bar_link" href="{% url 'index' %}"> Stream </a>
				</div>
				<div class="side_container">
					<a class="nav_bar_link" href="{% url 'profile' %}"> Profile </a>
				</div>
				<div class="side_container">
					<a class="nav_bar_link" href="{% url 'logout' %}"> Log Out </a>
				</div>
		    </div>
	    	<div class="whiteness">
	    		<span id="page_title"> Profile successfully updated! </span>
			</div>
	    	{% else %}

				<h1> Update Profile </h1>
		        <form id="user_form" method="post" action="/rango/update-profile/" enctype="multipart/form-data">

		            {% csrf_token %}

		            <!-- Display each form. The as_p method wraps each element in a paragraph
		                 (<p>) element. This ensures each element appears on a new line,
		                 making everything look neater. -->
		            {{ user_form.as_p }}
		            {{ profile_form.as_p }}

		            <!-- Provide a button to click to submit the form. -->
		            <input class="button" type="submit" name="submit" value="Update" />
		        </form>

		    {% endif %}
	    {% else %}
	        <h1>You took a wrong turn!</h1>
	    {% endif %}
    </div>

{% endblock %}